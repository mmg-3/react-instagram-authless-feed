(this["webpackJsonpreact-instagram-authless-feed"]=this["webpackJsonpreact-instagram-authless-feed"]||[]).push([[0],{11:function(e,t,r){"use strict";r.r(t);var n=r(1),a=r(2),i=r(4),s=r(3),o=r(0),c=r.n(o),u=r(6),l=r.n(u),h=function(){function e(){Object(n.a)(this,e)}return Object(a.a)(e,null,[{key:"getFeed",value:function(e){return function t(r,n){if(r<=1)throw n;return fetch("https://images"+~~(3333*Math.random())+"-focus-opensocial.googleusercontent.com/gadgets/proxy?container=none&url=https://www.instagram.com/"+e+"/").then((function(e){return e.text()})).then((function(e){return function(e){try{var t=e.split("window._sharedData = ")[1].split("<\/script>")[0];return JSON.parse(t.substr(0,t.length-1))}catch(n){throw Error("cannot parse response body")}}(e)})).then((function(e){return function(e){try{var t=function(e){return"https://www.instagram.com/p/"+e.shortcode},r=function(e){switch(e.__typename){case"GraphVideo":return e.thumbnail_src;case"GraphSidecar":default:return e.thumbnail_resources[function(e){return e.thumbnail_resources.forEach((function(e,t){if(640===e.config_width)return t})),4}(e)].src}};return e.entry_data.ProfilePage[0].graphql.user.edge_owner_to_timeline_media.edges.map((function(e){return{alt:(n=e.node,n.edge_media_to_caption.edges[0]&&n.edge_media_to_caption.edges[0].node?n.edge_media_to_caption.edges[0].node.text:n.accessibility_caption?n.accessibility_caption:""),url:t(e.node),src:r(e.node)};var n}))}catch(n){throw Error("cannot map media array")}}(e)})).catch((function(e){return t(r-1,e)}))}(5)}}]),e}(),d=function(e){Object(i.a)(r,e);var t=Object(s.a)(r);function r(){return Object(n.a)(this,r),t.apply(this,arguments)}return Object(a.a)(r,[{key:"render",value:function(){return c.a.createElement("a",{href:this.props.url,rel:"noopener",target:"_blank"},c.a.createElement("img",{src:this.props.src,alt:this.props.alt}))}}]),r}(o.Component),m=function(e){Object(i.a)(r,e);var t=Object(s.a)(r);function r(e){var a;return Object(n.a)(this,r),(a=t.call(this,e)).state={loading:!0,media:[]},a}return Object(a.a)(r,[{key:"componentDidMount",value:function(){var e=this;this.props.getFeedFn(this.props.userName).then((function(t){return e.setState({loading:!1,media:t.slice(0,e.props.limit)})})).catch((function(t){return e.setState({error:t})}))}},{key:"render",value:function(){if(this.state.error)throw this.state.error;var e=this.state.loading?[this.props.className,this.props.classNameLoading].join(" "):this.props.className;return c.a.createElement("div",{className:e},this.state.media.map((function(e,t){return c.a.createElement(d,{key:t,src:e.src,url:e.url,alt:e.alt})})))}}]),r}(o.Component);m.defaultProps={className:"",classNameLoading:"",getFeedFn:h.getFeed,limit:12};var p=m,f=function(e){Object(i.a)(r,e);var t=Object(s.a)(r);function r(e){var a;return Object(n.a)(this,r),(a=t.call(this,e)).state={hasError:!1},a}return Object(a.a)(r,[{key:"componentDidCatch",value:function(e,t){}},{key:"render",value:function(){return this.state.hasError?c.a.createElement("div",null,c.a.createElement("h1",null,"Something went wrong."),c.a.createElement("p",null,"N.B. VPN/NAT source ip addresses can trigger Instagram rate limits.")):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),r}(c.a.Component);l.a.render(c.a.createElement(f,null,c.a.createElement(p,{userName:"mindyhardy",className:"Feed",classNameLoading:"Loading",limit:"3"})),document.getElementById("root"))}},[[11,1,2]]]);
//# sourceMappingURL=main.7230f7af.chunk.js.map